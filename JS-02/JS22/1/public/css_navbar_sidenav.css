/* public/css_navbar_sidenav.css */

/* --- Top Navbar --- */
.top-navbar {
    background-color: var(--background-navbar);
    color: var(--text-on-dark-bg);
    height: var(--navbar-height);
    width: 100%;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1030;
    display: flex;
    align-items: center;
    padding: 0 20px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.25);
    transition: margin-left var(--sidenav-transition-speed) ease-in-out,
                width var(--sidenav-transition-speed) ease-in-out;
}

body.dark-mode .top-navbar {
    background-color: var(--blue-midnight-darkest); /* Más oscuro para la navbar en modo oscuro */
    box-shadow: 0 2px 8px rgba(0,0,0,0.4);
}

body.sidenav-open .top-navbar {
    /* Cuando el sidenav está abierto, la navbar no se encoge si el sidenav está debajo */
    /* Si el sidenav empuja el contenido (body con margin-left), la navbar también se mueve */
    /* margin-left: var(--sidenav-width); */ /* Esto es si el sidenav NO está por debajo */
    /* width: calc(100% - var(--sidenav-width)); */
}

.menu-btn {
    background: none;
    border: none;
    color: var(--text-on-dark-bg);
    font-size: 1.6em; /* Ícono de hamburguesa */
    cursor: pointer;
    padding: 8px;
    margin-right: 10px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}
.menu-btn:hover {
    background-color: rgba(255,255,255,0.1);
    color: var(--blue-ice-very-light);
}
body.dark-mode .menu-btn {
    color: var(--blue-ice-very-light);
}
body.dark-mode .menu-btn:hover {
    background-color: rgba(255,255,255,0.08);
    color: #ffffff;
}


.navbar-logo {
    font-size: 1.4em;
    font-weight: 600;
    color: var(--text-on-dark-bg);
    letter-spacing: 0.5px;
}
body.dark-mode .navbar-logo {
    color: var(--blue-ice-very-light);
}

.navbar-user-area {
    margin-left: auto;
    display: flex;
    align-items: center;
    gap: 15px;
}
#saludoUsuarioTopNav {
    font-size: 0.9em;
    font-weight: 500;
}
body.dark-mode #saludoUsuarioTopNav {
    color: var(--blue-pale);
}
.logout-button-nav {
    background-color: var(--blue-sky);
    color: var(--text-on-dark-bg);
    font-weight: 500;
    padding: 7px 14px;
    font-size: 0.8em;
    border-radius: var(--border-radius-sm);
}
.logout-button-nav:hover {
    background-color: var(--blue-cyan-light);
    color: #fff; /* Asegurar contraste */
}
body.dark-mode .logout-button-nav {
    background-color: var(--blue-main);
    color: var(--blue-whitish);
}
body.dark-mode .logout-button-nav:hover {
    background-color: var(--blue-sky);
}

/* --- Side Navigation Menu --- */
.sidenav {
    height: 100%;
    width: 0; /* Empieza cerrado */
    position: fixed;
    z-index: 1040; /* Encima del overlay y contenido, pero puede estar debajo de modales si los hubiera */
    top: 0;
    left: 0;
    background-color: var(--background-sidenav);
    overflow-x: hidden;
    transition: width var(--sidenav-transition-speed) ease-in-out;
    padding-top: calc(var(--navbar-height) + 15px); /* Espacio para la top-navbar + un poco más */
    box-shadow: 3px 0 15px rgba(0,0,0,0.3);
}
body.dark-mode .sidenav {
    background-color: #101d3f; /* Un poco más claro que el midnight darkest */
    box-shadow: 3px 0 15px rgba(0,0,0,0.5);
}


.sidenav.open {
    width: var(--sidenav-width);
}

.sidenav-header {
    padding: 0px 20px 15px 20px; /* Ajustado */
    text-align: left;
    border-bottom: 1px solid var(--blue-dark);
}
body.dark-mode .sidenav-header {
    border-bottom-color: #0b234d;
}
.sidenav-logo {
    font-size: 1.5em;
    color: var(--blue-pale);
    font-weight: 600;
}
body.dark-mode .sidenav-logo {
    color: var(--blue-ice-very-light);
}


.sidenav-links {
    list-style: none;
    padding: 0;
    margin: 10px 0 0 0; /* Margen superior */
}
.sidenav-links li a { /* renombrado de .nav-link-item-sidenav para claridad */
    padding: 14px 20px;
    text-decoration: none;
    font-size: 1.05em;
    font-weight: 500;
    color: var(--blue-pale);
    display: block;
    transition: background-color 0.2s ease, color 0.2s ease, padding-left 0.2s ease;
    border-left: 3px solid transparent; /* Para indicar activo */
}
.sidenav-links li a:hover {
    background-color: var(--blue-dark);
    color: var(--blue-turquoise-light);
    border-left-color: var(--blue-turquoise-light);
}
.sidenav-links li a.active-sidenav-link {
    background-color: var(--primary-color);
    color: var(--light-text) !important; /* Asegurar que el texto sea claro */
    font-weight: 600;
    border-left-color: var(--blue-turquoise-light); /* O un color más brillante */
}
body.dark-mode .sidenav-links li a {
    color: var(--blue-ice-very-light);
}
body.dark-mode .sidenav-links li a:hover {
    background-color: #0b234d;
    color: var(--blue-turquoise-light);
}
body.dark-mode .sidenav-links li a.active-sidenav-link {
    background-color: var(--blue-main); /* Mantener el primario para activo */
}

/* Overlay */
.overlay-sidenav {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.6);
    z-index: 1020; 
}
.overlay-sidenav.active {
    display: block;
}

/* Controles Adicionales en Sidenav (ej. Modo Oscuro) */
.sidenav-controls {
    padding: 20px;
    border-top: 1px solid var(--blue-dark);
    margin-top: auto; /* Empuja al final si el sidenav es flex column */
    position: absolute; /* O posición absoluta al fondo */
    bottom: 0;
    width: 100%;
}
body.dark-mode .sidenav-controls {
    border-top-color: #0b234d;
}

.theme-switch-wrapper {
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: var(--blue-pale);
    font-size: 0.95em;
}
body.dark-mode .theme-switch-wrapper {
    color: var(--blue-ice-very-light);
}

.theme-switch {
    display: inline-block;
    height: 20px; /* Más pequeño */
    position: relative;
    width: 40px; /* Más pequeño */
}
.theme-switch input {
    display:none;
}
.slider {
    background-color: var(--blue-dark);
    bottom: 0;
    cursor: pointer;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    transition: .4s;
    border-radius: 20px;
}
.slider:before {
    background-color: #fff;
    bottom: 3px; /* Ajustado */
    content: "";
    height: 14px; /* Ajustado */
    left: 3px; /* Ajustado */
    position: absolute;
    transition: .4s;
    width: 14px; /* Ajustado */
    border-radius: 50%;
}
input:checked + .slider {
    background-color: var(--blue-sky);
}
input:checked + .slider:before {
    transform: translateX(20px); /* Ajustado */
}